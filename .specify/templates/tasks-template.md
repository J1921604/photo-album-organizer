---

description: "フィーチャー実装用タスクリストテンプレート"
---

# タスク: [フィーチャー名]

**入力**: `/specs/[###-feature-name]/` のデザイン文書
**前提条件**: plan.md（必須）, spec.md（ユーザーストーリー用に必須）, research.md, data-model.md, contracts/

**テスト**: 下記の例にはテストタスクが含まれています。テストは **オプション** です。フィーチャー仕様に明示的に要求された場合のみ含めてください。

**構成**: タスクはユーザーストーリー別にグループ化され、各ストーリーの独立実装・テストを可能にします。

## 形式: `[ID] [P?] [Story] 説明`

- **[P]**: 並列実行可能（異なるファイル、依存関係なし）
- **[Story]**: タスクが属するユーザーストーリー（例: US1, US2, US3）
- 説明に正確なファイルパスを含める

## パス規則

- **単一プロジェクト**: リポジトリルートの `src/`, `tests/`
- **Web アプリ**: `backend/src/`, `frontend/src/`
- **モバイル**: `api/src/`, `ios/src/` または `android/src/`
- 下記のパスは単一プロジェクトを想定 - plan.md に基づいて調整してください

<!-- 
  ============================================================================
  重要: 下記のタスクは「サンプルタスク」であり、説明目的のみです。
  
  /speckit.tasks コマンドは、以下に基づいて実際のタスクに置き換える必須:
  - spec.md のユーザーストーリー（優先度 P1, P2, P3... 付き）
  - plan.md の機能要件
  - data-model.md のエンティティ
  - contracts/ のエンドポイント
  
  タスクは「ユーザーストーリー別」に構成され、各ストーリーは:
  - 独立実装可能
  - 独立テスト可能
  - MVP 増分として配信可能
  
  生成された tasks.md にこれらのサンプルタスクを残さないこと。
  ============================================================================
-->

## Phase 1: セットアップ（共有インフラ）

**目的**: プロジェクト初期化と基本構造

- [ ] T001 実装計画に基づいてプロジェクト構造を作成
- [ ] T002 [言語] プロジェクトを [フレームワーク] 依存で初期化
- [ ] T003 [P] Lint とフォーマッティングツールを設定

---

## Phase 2: 基盤（ブロッキング前提条件）

**目的**: ユーザーストーリー実装開始前に完了する**必須**のコアインフラ

**⚠️ 重大**: このフェーズ完了まで、ユーザーストーリー作業は開始禁止

基盤タスクの例（プロジェクトに基づいて調整してください）:

- [ ] T004 データベーススキーマとマイグレーションフレームワークをセットアップ
- [ ] T005 [P] 認証・認可フレームワークを実装
- [ ] T006 [P] API ルーティングとミドルウェア構造をセットアップ
- [ ] T007 全ストーリーが依存する基本モデル・エンティティを作成
- [ ] T008 エラーハンドリングとロギングインフラを設定
- [ ] T009 環境設定管理をセットアップ

**チェックポイント**: 基盤準備完了 - ユーザーストーリー実装が並列開始可能

---

## Phase 3: ユーザーストーリー 1 - [タイトル] (優先度: P1) 🎯 MVP

**ゴール**: [このストーリーが提供する内容の簡潔説明]

**独立テスト**: [このストーリーが単独で機能することを確認する方法]

### ユーザーストーリー 1 のテスト（オプション - テスト要求時のみ） ⚠️

> **注記: これらのテストを「まず最初に」書き、実装前に「失敗する」ことを確認する**

- [ ] T010 [P] [US1] tests/contract/test_[name].js のコントラクトテスト
- [ ] T011 [P] [US1] tests/integration/test_[name].js の統合テスト

### ユーザーストーリー 1 の実装

- [ ] T012 [P] [US1] src/models/[entity1].js に [Entity1] モデルを作成
- [ ] T013 [P] [US1] src/models/[entity2].js に [Entity2] モデルを作成
- [ ] T014 [US1] src/services/[service].js に [Service] を実装（T012, T013 に依存）
- [ ] T015 [US1] src/[location]/[file].js に [エンドポイント/機能] を実装
- [ ] T016 [US1] バリデーションとエラーハンドリングを追加
- [ ] T017 [US1] ユーザーストーリー 1 操作のログを追加

**チェックポイント**: この時点でユーザーストーリー 1 は完全に機能し、独立テスト可能

---

## Phase 4: ユーザーストーリー 2 - [タイトル] (優先度: P2)

**ゴール**: [このストーリーが提供する内容の簡潔説明]

**独立テスト**: [このストーリーが単独で機能することを確認する方法]

### ユーザーストーリー 2 のテスト（オプション - テスト要求時のみ） ⚠️

- [ ] T018 [P] [US2] tests/contract/test_[name].js のコントラクトテスト
- [ ] T019 [P] [US2] tests/integration/test_[name].js の統合テスト

### ユーザーストーリー 2 の実装

- [ ] T020 [P] [US2] src/models/[entity].js に [Entity] モデルを作成
- [ ] T021 [US2] src/services/[service].js に [Service] を実装
- [ ] T022 [US2] src/[location]/[file].js に [エンドポイント/機能] を実装
- [ ] T023 [US2] 必要に応じてユーザーストーリー 1 コンポーネントと統合

**チェックポイント**: この時点でユーザーストーリー 1 と 2 の両方が独立で機能

---

## Phase 5: ユーザーストーリー 3 - [タイトル] (優先度: P3)

**ゴール**: [このストーリーが提供する内容の簡潔説明]

**独立テスト**: [このストーリーが単独で機能することを確認する方法]

### ユーザーストーリー 3 のテスト（オプション - テスト要求時のみ） ⚠️

- [ ] T024 [P] [US3] tests/contract/test_[name].js のコントラクトテスト
- [ ] T025 [P] [US3] tests/integration/test_[name].js の統合テスト

### ユーザーストーリー 3 の実装

- [ ] T026 [P] [US3] src/models/[entity].js に [Entity] モデルを作成
- [ ] T027 [US3] src/services/[service].js に [Service] を実装
- [ ] T028 [US3] src/[location]/[file].js に [エンドポイント/機能] を実装

**チェックポイント**: すべてのユーザーストーリーが独立で機能

---

[必要に応じてユーザーストーリーフェーズを追加 - 同じパターンに従う]

---

## Phase N: ポーリッシュ＆クロスカッティング懸念事項

**目的**: 複数のユーザーストーリーに影響する改善

- [ ] TXXX [P] docs/ でドキュメント更新
- [ ] TXXX コード整理とリファクタリング
- [ ] TXXX すべてのストーリー全体のパフォーマンス最適化
- [ ] TXXX [P] 追加の単体テスト（要求時）を tests/unit/ に
- [ ] TXXX セキュリティ強化
- [ ] TXXX quickstart.md 検証を実行

---

## 依存関係と実行順序

### フェーズ依存関係

- **セットアップ（Phase 1）**: 依存関係なし - 即座に開始可能
- **基盤（Phase 2）**: セットアップ完了に依存 - すべてのユーザーストーリーをブロック
- **ユーザーストーリー（Phase 3+）**: すべて基盤フェーズ完了に依存
  - その後ユーザーストーリーは並列進行可能（スタッフが充分な場合）
  - または優先度順に順序実行（P1 → P2 → P3）
- **ポーリッシュ（最終フェーズ）**: 全ユーザーストーリー完了に依存

### ユーザーストーリー内の依存関係

- **ユーザーストーリー 1（P1）**: 基盤（Phase 2）完了後に開始可能 - 他ストーリーに依存しない
- **ユーザーストーリー 2（P2）**: 基盤（Phase 2）完了後に開始可能 - US1 と統合可能だが独立テスト必須
- **ユーザーストーリー 3（P3）**: 基盤（Phase 2）完了後に開始可能 - US1/US2 と統合可能だが独立テスト必須

### 各ユーザーストーリー内

- テスト（含める場合）は「まず最初に」書き、実装前に失敗することを確認
- サービス前にモデル
- エンドポイント前にサービス
- 統合前にコア実装
- 次の優先度に進む前にストーリー完了

### 並列実行の機会

- セットアップタスクの [P] は全て並列実行可能
- 基盤タスクの [P] は全て並列実行可能（Phase 2 内）
- 基盤フェーズ完了後、全ユーザーストーリーが並列開始可能（チーム容量がある場合）
- ユーザーストーリーのテスト [P] は全て並列実行可能
- ストーリー内のモデル [P] は全て並列実行可能
- 異なるユーザーストーリーは異なるチームメンバーが並列対応可能

---

## 並列実行例: ユーザーストーリー 1

```bash
# ユーザーストーリー 1 のすべてのテストを同時起動（テスト要求時）:
Task: "tests/contract/test_[name].js のコントラクトテスト"
Task: "tests/integration/test_[name].js の統合テスト"

# ユーザーストーリー 1 のすべてのモデルを同時起動:
Task: "src/models/[entity1].js に [Entity1] モデルを作成"
Task: "src/models/[entity2].js に [Entity2] モデルを作成"
```

---

## 実装戦略

### MVP ファースト（ユーザーストーリー 1 のみ）

1. Phase 1 完了: セットアップ
2. Phase 2 完了: 基盤（重大 - すべてのストーリーをブロック）
3. Phase 3 完了: ユーザーストーリー 1
4. **停止して検証**: ユーザーストーリー 1 を独立でテスト
5. デプロイ/デモ（準備完了なら）

### インクリメンタル配信

1. セットアップ + 基盤完了 → 基盤準備完了
2. ユーザーストーリー 1 追加 → 独立テスト → デプロイ/デモ（MVP！）
3. ユーザーストーリー 2 追加 → 独立テスト → デプロイ/デモ
4. ユーザーストーリー 3 追加 → 独立テスト → デプロイ/デモ
5. 各ストーリーは前のストーリーを壊さずに価値を追加

### 並列チーム戦略

複数開発者がいる場合:

1. チーム全体でセットアップ + 基盤完了
2. 基盤完了後:
   - 開発者 A: ユーザーストーリー 1
   - 開発者 B: ユーザーストーリー 2
   - 開発者 C: ユーザーストーリー 3
3. ストーリーが完了して独立統合

---

## 注記

- [P] タスク = 異なるファイル、依存関係なし
- [Story] ラベル = タスクを特定のユーザーストーリーにマッピング（トレーサビリティ）
- 各ユーザーストーリーは独立で完了・テスト可能であること
- 実装前にテストが失敗することを確認
- 各タスク後またはロジカルグループ後にコミット
- 任意のチェックポイントでストーリーを独立検証
- 回避事項: 不明確なタスク、同一ファイルの競合、ストーリー間の独立性を破る依存関係
